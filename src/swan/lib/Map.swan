let fKeys = $$: k for k, v in this,
fValues = $$: v for k, v in this
Map::keys = fKeys
Dictionary::keys = fKeys
Map::values = fValues
Dictionary::values = fValues

let fGOrC = $$(k,f) {
let v = this[k]
if v==null {
v = f(k)
this[k] = v
}
return v
}
Map::getOrCompute = fGOrC
Dictionary::getOrCompute = fGOrC

let fFlipped = $$: (v,k) for k, v in this
Map::flipped = fFlipped
Dictionary::flipped = fFlipped
